import{a as b,u as k,b as w,j as e,L as I,c as A,n as m,l as E,I as L,d as v,r as R,e as B}from"./index-1d712c6a.js";import{c as M,a as g,u as F,o as C,I as h,P as S,b as _}from"./InputError-9df3dae2.js";const q="_background_k3sp2_1",P="_mainBox_k3sp2_17",$="_authMenu_k3sp2_32",G="_authMenuButton_k3sp2_40",T="_selectedAuthMenuButton_k3sp2_51",W="_authControl_k3sp2_55",D="_authForm_k3sp2_68",O="_authInput_k3sp2_75",z="_authButton_k3sp2_90",s={background:q,mainBox:P,authMenu:$,authMenuButton:G,selectedAuthMenuButton:T,authControl:W,authForm:D,authInput:O,authButton:z},H=M().shape({email:g().email().required(),password:g().min(8).required(),name:g().required()}),J=({formClassName:r,inputClassName:t,buttonClassName:o})=>{var l,c,d;const u=b(),i=k(w),{register:a,handleSubmit:f,formState:{errors:n},reset:j}=F({resolver:C(H)}),y=async p=>{const x=await u(A(p));if(x.type==="auth/signup/fulfilled")return m.Notify.success("Welcome!");if(x.payload==="Email in use")return m.Notify.warning("This email is already in use. Please try using a different email address.");if(x.error)return console.log(x.payload.error.message),m.Notify.failure("Oops... Something went wrong. Please,ry again later!");j()};return e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:f(y),className:r,autoComplete:"off",children:[e.jsx("input",{className:t,...a("name"),type:"text",placeholder:"Enter your name"}),e.jsx(h,{message:(l=n.name)==null?void 0:l.message}),e.jsx("input",{className:t,type:"email",placeholder:"Enter your email",...a("email")}),e.jsx(h,{message:(c=n.email)==null?void 0:c.message}),e.jsx(S,{className:t,register:a,placeholder:"Create a password"}),e.jsx(h,{message:(d=n.password)==null?void 0:d.message}),e.jsx("button",{className:o,type:"submit",children:i?e.jsx(I,{}):"Register Now"})]})})},K=M().shape({email:g().email().required(),password:g().required()}),Q=({formClassName:r,inputClassName:t,buttonClassName:o})=>{var l,c;const u=b(),i=k(w),{register:a,handleSubmit:f,formState:{errors:n},reset:j}=F({resolver:C(K)}),y=async d=>{const p=await u(E(d));p.type==="auth/login/fulfilled"&&m.Notify.success("Welcome back!"),p.error&&m.Notify.failure("Invalid email, or password, or something went wrong. Try again, please."),j()};return e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:f(y),className:r,autoComplete:"off",children:[e.jsx("input",{className:t,type:"email",placeholder:"Enter your email",...a("email")}),e.jsx(h,{message:(l=n.email)==null?void 0:l.message}),e.jsx(S,{className:t,register:a,placeholder:"Enter a password"}),e.jsx(h,{message:(c=n.password)==null?void 0:c.message}),e.jsx("button",{className:o,type:"submit",children:i?e.jsx(I,{}):"Log In Now"})]})})},U="_googleBtn_1o4ig_1",V="_googleIcon_1o4ig_17",N={googleBtn:U,googleIcon:V},X=()=>e.jsx(e.Fragment,{children:e.jsx("a",{className:N.googleBtn,href:"https://perfect-task-back.onrender.com/api/users/google","aria-label":"Registration by using Google",children:e.jsx(L,{id:"google",className:N.googleIcon,width:"20",height:"20"})})}),ee=()=>{const{id:r}=v(),[t,o]=R.useState(r==="register"),u=_(s.authInput,s.authControl),i=_(s.authButton,s.authControl),a=t?J:Q;return e.jsx(e.Fragment,{children:e.jsx("div",{className:s.background,children:e.jsxs("div",{className:s.mainBox,children:[e.jsxs("div",{className:s.authMenu,children:[e.jsx(B,{to:"/auth/register",children:e.jsx("button",{className:_(s.authMenuButton,t&&s.selectedAuthMenuButton),onClick:()=>{o(!0)},children:"Registration"})}),e.jsx(B,{to:"/auth/login",children:e.jsx("button",{className:_(s.authMenuButton,!t&&s.selectedAuthMenuButton),onClick:()=>{o(!1)},children:"Log In"})}),e.jsx(X,{})]}),e.jsx(a,{inputClassName:u,buttonClassName:i,formClassName:s.authForm})]})})})};export{ee as A};
